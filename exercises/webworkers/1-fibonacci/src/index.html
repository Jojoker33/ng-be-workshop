<!DOCTYPE html>
<html>
  <head>
    <title>NG-BE Fibonacci Main Thread</title>
  </head>
  <body>
    <div>
      fib(<input id="input" type="number" style="width: 50px" />) =
      <span id="result">??</span>
    </div>

    <button id="calculate">Calculate</button>

    <div id="counter" style="text-align: right">1</div>

    <script type="text/javascript">
      function fibonacci(position) {
        if (position < 2) {
          return position;
        }

        return fibonacci(position - 1) + fibonacci(position - 2);
      }

      const inputEl = document.getElementById('input');
      const resultEl = document.getElementById('result');
      const counterEl = document.getElementById('counter');
      const calculateEl = document.getElementById('calculate');

      calculateEl.addEventListener('click', () => {
        resultEl.innerHTML = fibonacci(inputEl.valueAsNumber);
      });

      let counter = 2;

      setInterval(() => {
        counterEl.innerHTML = counter++;
      }, 1000);
    </script>
  </body>
</html>
